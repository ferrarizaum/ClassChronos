--
-- File generated with SQLiteStudio v3.4.4 on Thu May 16 07:15:36 2024
--
-- Text encoding used: System
--
PRAGMA foreign_keys = off;
BEGIN TRANSACTION;

-- Table: Class
CREATE TABLE IF NOT EXISTS Class (Id INTEGER PRIMARY KEY AUTOINCREMENT, Name TEXT NOT NULL, TeacherId INTEGER REFERENCES Teacher (Id) ON DELETE RESTRICT ON UPDATE CASCADE NOT NULL, Code TEXT, Period TEXT);

-- Table: Classroom
CREATE TABLE IF NOT EXISTS Classroom (Id INTEGER PRIMARY KEY AUTOINCREMENT, Name TEXT NOT NULL, Capacity NUMERIC NOT NULL);

-- Table: Department
CREATE TABLE IF NOT EXISTS Department (Id INTEGER PRIMARY KEY AUTOINCREMENT, Name TEXT NOT NULL);

-- Table: Log
CREATE TABLE IF NOT EXISTS Log (Id INTEGER PRIMARY KEY AUTOINCREMENT, DateTime TEXT NOT NULL, LoginId INTEGER REFERENCES Login (Id) ON DELETE RESTRICT ON UPDATE CASCADE NOT NULL, TeacherId INTEGER REFERENCES Teacher (Id) ON DELETE RESTRICT ON UPDATE CASCADE NOT NULL, ClassId INTEGER REFERENCES Class (Id) ON DELETE RESTRICT ON UPDATE CASCADE NOT NULL, PeriodOld TEXT, PeriodNew TEXT);

-- Table: Login
CREATE TABLE IF NOT EXISTS Login (Id INTEGER PRIMARY KEY AUTOINCREMENT, User TEXT NOT NULL, Password TEXT NOT NULL, IsAdmin INTEGER NOT NULL);

-- Table: Teacher
CREATE TABLE IF NOT EXISTS Teacher (Id INTEGER PRIMARY KEY AUTOINCREMENT, Name TEXT NOT NULL, DepartmentId INTEGER NOT NULL REFERENCES Department (Id) ON DELETE RESTRICT ON UPDATE CASCADE);

-- Table: Time
CREATE TABLE IF NOT EXISTS Time (Id INTEGER PRIMARY KEY AUTOINCREMENT, Name TEXT);

COMMIT TRANSACTION;
PRAGMA foreign_keys = on;
